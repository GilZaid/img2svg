# img2svg
This project is an adaptation of Potrace to color images. Potrace takes as input a black and white bitmap image, and it outputs a vector file which closely approximates this image. Potrace does not support color images, but tracing color images to vector files is a ubiquitous issue; dozens of free and paid solutions available online with mixed quality. Here, we adapt the Potrace algorithm directly so that it can process colored images as well as black and white bitmaps. 

Instead of a bitmap, which is a 2-dimensional array of 0's and 1's, here, the input to our algorithm is an image segmentation, which is an array of numbers from 0 to n - 1, where n is the number of segments in the image. Each segment is a connected part of the image that is a single color; the colors for these segments are given in a separate numpy array. For now, the segmentation of a given png image and the corresponding color array are generated from the crude segmentation algorithm; other segmentation algorithms can be easily swapped in instead. When the segmentation for an image is fed into the modified version of the Potrace algorithm, each region is traced following similar mathematical optimizations as used in the Potrace algorithm, but with the added constraints that neighboring regions share their edges exactly.

To run the project, one should create a Python environment with numpy, matplotlib and math for the tracing part, and scipy/skimage/numba as well for the segmentation. There are a variety of test png images in the test images folder - to try the algorithm on one of these, just change the png name in the segmentation file, run it, and then run the tracing algorithm, which will output the vector file to output.svg.